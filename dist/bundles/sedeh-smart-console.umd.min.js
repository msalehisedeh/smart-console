!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@sedeh/smart-console",["exports","@angular/core","@angular/common"],i):i(((t=t||self).sedeh=t.sedeh||{},t.sedeh["smart-console"]={}),t.ng.core,t.ng.common)}(this,(function(t,i,e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(t,i,e,o){var s,n=arguments.length,r=n<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,i,e,o);else for(var h=t.length-1;h>=0;h--)(s=t[h])&&(r=(n<3?s(r):n>3?s(i,e,r):s(i,e))||r);return n>3&&r&&Object.defineProperty(i,e,r),r}function s(t,i){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,s,n=e.call(t),r=[];try{for(;(void 0===i||i-- >0)&&!(o=n.next()).done;)r.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return r}function n(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(s(arguments[i]));return t}var r=function(){function t(){this.defaultLog=console.log,this.defaultInfo=console.info,this.defaultWarn=console.warn,this.defaultError=console.error,this.defaultTable=console.table,this.defaultTrace=console.trace,this.defaultAssert=console.assert,this.defaultException=console.exception,this.defaultDebug=console.debug,this.output=new i.EventEmitter,this.watchList={}}return t.prototype._argsToString=function(t){var i=[];return t.map((function(t){if("object"==typeof t)try{i.push(JSON.stringify(t))}catch(e){t.message?i.push(t.message):i.push(t)}else i.push(t)})),i.join(",")},t.prototype._suppressed=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=!1;if(this.options.suppress){var o=this._argsToString(t);this.options.suppress.map((function(t){o.indexOf(t)>-1&&(e=!0)}))}return e},t.prototype._filtered=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=!this.options.filter||0===this.options.filter.length;if(this.options.filter){var o=this._argsToString(t);this.options.filter.map((function(t){o.indexOf(t)>-1&&(e=!0)}))}return e},t.prototype._getStack=function(){var t="";try{throw new Error("getStack")}catch(i){t=(t=(t=i.stack).indexOf("\r")>0?t.indexOf("\r"):t.split("\n"))[4]}return t},t.prototype._blocked=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=!1;if(this.options.blockCaller){var o=this._getStack();this.options.blockCaller.map((function(t){o.indexOf(t)>-1&&(e=!0)}))}return e},t.prototype._throttle=function(){for(var t=this,i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var o=!1;return this.options.throttleOn&&i instanceof Array&&i.map((function(i){i instanceof Array?i.map((function(i){0===("string"==typeof i?i.indexOf("level_"):-1)&&parseInt(i.substring(6),10)<=t.options.throttleOn&&(o=!0)})):0===i.indexOf("level_")&&parseInt(i.substring(6),10)<=t.options.throttleOn&&(o=!0)})),o},t.prototype._reportWatch=function(t){var i=this,e=Object.keys(this.watchList);if(e.length)try{var o=this._argsToString(t);e.map((function(e){o.indexOf(e)>-1&&i.watchList[e].emit(t)}))}catch(t){}},t.prototype._upscale=function(){for(var t,i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var o=this._getStack(),s=/([^(]+)@|at ([^(]+) \(/g,r=s.exec(o),h=o.lastIndexOf("/"),p=h>0?o.substring(h+1).split(":")[0]:o,a=r?r[1]||r[2]:o,l=a.indexOf("/")>0?a.substring(0,a.indexOf("/")):"",u=new Date,f=u.getMonth()+1+"/"+u.getDay()+"/"+u.getFullYear()+" "+u.getHours()+":"+u.getMinutes()+":"+u.getSeconds()+":"+u.getMilliseconds();return(t=[f+" ["+p+(l?" | "+l:"")+"] "]).concat.apply(t,n(i))},t.prototype._info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if((void 0===this.options.infoDisabled||!this.options.infoDisabled)&&this._filtered(t)&&!this._suppressed(t)&&!this._throttle(t)&&!this._blocked(t)){var e=this.options.upscale?this._upscale(t):t;this.options.upgrade?this.options.emitOutput?(this.output.emit(n(["[log]"],e)),this.options.logAfterEmit&&this.defaultLog.apply(this,n(e))):this.defaultLog.apply(this,n(e)):this.options.emitOutput?(this.output.emit(n(["[info]"],e)),this.options.logAfterEmit&&this.defaultLog.apply(this,n(e))):this.defaultInfo.apply(this,n(e))}this._reportWatch(t)},t.prototype._log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if((void 0===this.options.logDisabled||!this.options.logDisabled)&&this._filtered(t)&&!this._suppressed(t)&&!this._throttle(t)&&!this._blocked(t)){var e=this.options.upscale?this._upscale(t):t;this.options.downGrade?this.options.emitOutput?(this.output.emit(n(["[info]"],e)),this.options.logAfterEmit&&this.defaultLog.apply(this,n(e))):this.defaultInfo.apply(this,n(e)):this.options.upgrade?this.options.emitOutput?(this.output.emit(n(["[warn]"],e)),this.options.logAfterEmit&&this.defaultWarn.apply(this,n(e))):this.defaultWarn.apply(this,n(e)):this.options.emitOutput?(this.output.emit(n(["[log]"],e)),this.options.logAfterEmit&&this.defaultLog.apply(this,n(e))):this.defaultLog.apply(this,n(e))}this._reportWatch(t)},t.prototype._warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if((void 0===this.options.warnDisabled||!this.options.warnDisabled)&&this._filtered(t)&&!this._suppressed(t)&&!this._throttle(t)&&!this._blocked(t)){var e=this.options.upscale?this._upscale(t):t;this.options.downGrade?this.options.emitOutput?(this.output.emit(n(["[log]"],e)),this.options.logAfterEmit&&this.defaultLog.apply(this,n(e))):this.defaultLog.apply(this,n(e)):this.options.upgrade?this.options.emitOutput?(this.output.emit(n(["[error]"],e)),this.options.logAfterEmit&&this.defaultError.apply(this,n(e))):this.defaultError.apply(this,n(e)):this.options.emitOutput?(this.output.emit(n(["[warn]"],e)),this.options.logAfterEmit&&this.defaultWarn.apply(this,n(e))):this.defaultWarn.apply(this,n(e))}this._reportWatch(t)},t.prototype._error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if((void 0===this.options.errorDisabled||!this.options.errorDisabled)&&this._filtered(t)&&!this._suppressed(t)&&!this._throttle(t)&&!this._blocked(t)){var e=this.options.upscale?this._upscale(t):t;this.options.downGrade?this.options.emitOutput?(this.output.emit(n(["[log]"],e)),this.options.logAfterEmit&&this.defaultLog.apply(this,n(e))):this.defaultLog.apply(this,n(e)):this.options.emitOutput?(this.output.emit(n(["[error]"],e)),this.options.logAfterEmit&&this.defaultError.apply(this,n(e))):this.defaultError.apply(this,n(e))}this._reportWatch(t)},t.prototype._table=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if((void 0===this.options.tableDisabled||!this.options.errorDisabled)&&this._filtered(t)&&!this._suppressed(t)&&!this._throttle(t)&&!this._blocked(t))if(this.options.emitOutput){var e=this.options.upscale?this._upscale(t):t;this.output.emit(n(["[table]"],e)),this.options.logAfterEmit&&this.defaultTable.apply(this,n(t))}else this.defaultTable.apply(this,n(t));this._reportWatch(t)},t.prototype._trace=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if((void 0===this.options.traceDisabled||!this.options.traceDisabled)&&this._filtered(t)&&!this._throttle(t)){var e=this.options.upscale?this._upscale(t):t;this.options.emitOutput?(this.output.emit(n(["[trace]"],e)),this.options.logAfterEmit&&this.defaultTrace.apply(this,n(e))):this.defaultTrace.apply(this,n(e))}this._reportWatch(t)},t.prototype._exception=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];void 0!==this.options.exceptionDisabled&&this.options.exceptionDisabled||!this._filtered(t)||this._throttle(t)||(this.options.emitOutput?(this.output.emit(n(["[exception]"],t)),this.options.logAfterEmit&&this.defaultException.apply(this,n(t))):this.defaultException.apply(this,n(t))),this._reportWatch(t)},t.prototype._debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];void 0!==this.options.debugDisabled&&this.options.debugDisabled||!this._filtered(t)||this._throttle(t)||(this.options.emitOutput?(this.output.emit(n(["[debug]"],t)),this.options.logAfterEmit&&this.defaultDebug.apply(this,n(t))):this.defaultDebug.apply(this,n(t))),this._reportWatch(t)},t.prototype._assert=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];void 0!==this.options.assertDisabled&&this.options.assertDisabled||!this._filtered(t)||this._throttle(t)||(this.options.emitOutput?(this.output.emit(n(["[assert]"],t)),this.options.logAfterEmit&&this.defaultAssert.apply(this,n(t))):this.defaultAssert.apply(this,n(t))),this._reportWatch(t)},t.prototype.makeSmartLogs=function(t){this.options=t,console.log&&(console.log=this._log.bind(this)),console.info&&(console.info=this._info.bind(this)),console.warn&&(console.warn=this._warn.bind(this)),console.error?console.error=this._error.bind(this):console.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]},console.table?console.table=this._table.bind(this):console.table=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]},console.trace?console.trace=this._trace.bind(this):console.trace=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]},console.debug?console.debug=this._debug.bind(this):console.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]},console.assert?console.assert=this._assert.bind(this):console.assert=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]},console.exception?console.exception=this._exception.bind(this):console.exception=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]}},t.prototype.redirectedOutput=function(){return this.output},t.prototype.addWatch=function(t){return this.watchList[t]||(this.watchList[t]=new i.EventEmitter),this.watchList[t]},t.prototype.removeWatch=function(t){delete this.watchList[t]},t.prototype.clearWatchList=function(t){t.map((function(t){return t.unsubscribe()})),this.watchList={}},t.prototype.markupTrace=function(t){var i=t;return t instanceof Array&&(i=[],t.map((function(t){if("string"==typeof t){var e=t.indexOf("\n")>0?"\n":t.indexOf("\r")>0?"\r":void 0;if(e&&(t.indexOf("@")>-1||t.indexOf("(")>-1)&&t.indexOf(":")>0){var o=[];t.split(e).map((function(t){var i=t.indexOf("@"),e=t.indexOf("(");if(e>0){var s=(h=t.substring(e+1,t.length-1).split(":")).length,n=t.substring(0,e)+":"+h[s-2]+":"+h[s-1],r=h.slice(0,s-2).join(":");o.push('<a href="'+r+'">'+n+"</a>")}else if(i>=0){if(t.indexOf(":")<0)o.push('<a href="'+t.substring(i+1)+'">'+t.substring(0,i)+"</a>");else{s=(h=t.substring(i+1,t.length).split(":")).length;var h,p=t.substring(0,i)+":"+h[s-2]+":"+h[s-1];r=h.slice(0,s-2).join(":");o.push('<a href="'+r+'">'+p+"</a>")}}else o.push(t)})),i.push(o.join("<br />"))}else e?i.push(t.split(e).join("<br />")):i.push(t)}else if("object"==typeof t)try{i.push(JSON.stringify(t))}catch(e){t.message?i.push(t.message):i.push(t)}else i.push(t)}))),i},t.ngInjectableDef=i.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=o([i.Injectable({providedIn:"root"})],t)}(),h=function(){function t(){}var s;return s=t,t.forRoot=function(){return{ngModule:s,providers:[r]}},t=s=o([i.NgModule({declarations:[],exports:[],imports:[e.CommonModule],providers:[r],schemas:[i.CUSTOM_ELEMENTS_SCHEMA]})],t)}();t.SmartConsoleModule=h,t.SmartConsoleService=r,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=sedeh-smart-console.umd.min.js.map